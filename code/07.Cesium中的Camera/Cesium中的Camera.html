<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="../../public/Cesium/Cesium.js"></script>
    <link rel="stylesheet" href="../../public/Cesium/Widgets/widgets.css">
    <title>camera in Cesium</title>
</head>

<body>
    <div id="cesiumContainer"></div>
</body>
<script type="module">
    import initMap from '../../utils/initMap.js'
    import LoadData from '../../utils/loadData.js'
    let viewer = initMap(Cesium)

    /* 加载数据 */
    const loadGlbData = new LoadData(viewer, Cesium)
    const glbParam = {
        url: '../../assest/CesiumAir/Cesium_Air.glb',
        lon: 118.7975,
        lat: 32.0171,
        height: 1000
    }
    loadGlbData.loadGlb(glbParam.url, glbParam.lon, glbParam.lat, glbParam.height)

    /* Camera第一种方法：setView */
    //cartesian3的方式
    // viewer.camera.setView({
    //     destination: Cesium.Cartesian3.fromDegrees(glbParam.lon, glbParam.lat, glbParam.height + 1000),
    //     orientation: {
    //         heading: Cesium.Math.toRadians(20.0),
    //         pitch: Cesium.Math.toRadians(-90.0),
    //         roll: 0
    //     }
    // })

    //rectangle的方式
    // viewer.camera.setView({
    //     destination: Cesium.Rectangle.fromDegrees(0.0, 20.0, 10.0, 30.0),//west south east north
    //     orientation: {
    //         heading: Cesium.Math.toRadians(20.0),//方向
    //         pitch: Cesium.Math.toRadians(-90.0),//倾斜角度           
    //         roll: 0
    //     }
    // })

    /* Camera第二种方法：flyTo */
    // viewer.camera.flyTo({
    //     destination:Cesium.Cartesian3.fromDegrees(glbParam.lon,glbParam.lat,glbParam.height + 1000),
    //     orientation:{
    //         heading:Cesium.Math.toRadians(20.0),//方向
    //         pitch:Cesium.Math.toRadians(-90.0),//倾斜角度
    //         roll:10
    //     },
    //     duration:5,//设置飞行持续时间，默认会根据距离来计算
    //     complete:function(){
    //         //到达位置后执行的回调函数
    //         console.log('飞行开始')
    //     },
    //     cancle:function(){
    //         //如果取消飞行则会调用此函数
    //         console.log('飞行结束')
    //     },
    //     pitchAdjustHeight:-90,//如果摄像机飞越高于该值，则调整俯仰角度，并将地球保持在视口中，
    //     maximumHeight:5000,//相机最大飞行高度
    //     flyOverLongitude:100,//如果到达目的地有2种方式，设置具体值后会强制选择方向飞过这个经度
    // })

    /* Camera第三种方法：lookAt */
    var center = Cesium.Cartesian3.fromDegrees(glbParam.lon, glbParam.lat)
    var heading = Cesium.Math.toRadians(50.0);
    var pitch = Cesium.Math.toRadians(-20.0);
    var range = 5000.0
    viewer.camera.lookAt(center, new Cesium.HeadingPitchRange(heading, pitch, range))
</script>

</html>